{% extends 'base.html' %}
{% block css %}form.css{% endblock %}
{% block js %}form.js{% endblock %}
{% macro text(name, required=True) -%}
<div>
    <label>
        {{name|title}}{{'*' if required}}:
        <input type="text" name="{{name}}"{{' required' if required}}>
    </label>
</div>
{%- endmacro %}
{% macro multiline(name, required=True) -%}
<div>
    <label>
        {{name|title}}{{'*' if required}}:
        <textarea name="{{name}}"{{' required' if required}}></textarea>
    </label>
</div>
{%- endmacro %}
{% macro select(name, choices, required=True) -%}
<div>
    <label>
        {{name|title}}{{'*' if required}}:
        <select name="{{name}}"{{' required' if required}}>
            <option value="" selected disabled hidden>-- select --</option>
            {%- for key, value in choices.items() %}
            <option value="{{key}}">{{value}}</option>
            {%- endfor %}
        </select>
    </label>
</div>
{%- endmacro %}
{% macro checkbox(name, required=True) -%}
<div>
    <label>
        {{name|title}}{{'*' if required}}:
        <input type="checkbox" name="{{name}}" value="{{name}}"{{' required' if required}}>
    </label>
</div>
{%- endmacro %}
{% macro number(name, required=True) -%}
<div>
    <label>
        {{name|title}}{{'*' if required}}:
        <input type="number" name="{{name}}" value=0 min=0{{' required' if required}}>
    </label>
</div>
{%- endmacro %}
{% block body %}
<div>
    <a href="{{url_for('class_page', class_id=class_['id'])}}">Return to your class page</a>
</div>
<form method="POST">
    <fieldset>
        <legend>
            Upload to {{class_['id']}}
        </legend>
    {%- filter indent(width=8) %}
{{text('name')}}
{{multiline('text', required=False)}}
{{text('link', required=False)}}
{{select('type', {'empty': 'No Link', 'container': 'Empty Container', 'embed': 'Embedded Document', 'image': 'Embedded Image', 'link': 'Raw Link'})}}
{{checkbox('submittable', required=False)}}
{{number('points')}}
{{select('container', containers, required=False)}}
    {%- endfilter %}
    </fieldset>
    <input type="submit" value="UPLOAD" id="form_save">
</form>
{% endblock %}