{% extends 'base.html' %}
{% block css %}form.css{% endblock %}
{% block js %}form.js{% endblock %}
{% macro text(name, required=True) -%}
<div>
    <label>
        {{name|title}}:
        <input type="text" name="{{name}}"{{' required' if required}}>
    </label>
</div>
{%- endmacro %}
{% macro select(name, choices, required=True) -%}
<div>
    <label>
        {{name|title}}:
        <select name="{{name}}"{{' required' if required}}>
            <option value="" selected disabled hidden>-- select --</option>
            {%- for key, value in choices.items() %}
            <option value="{{key}}">{{value}}</option>
            {%- endfor %}
        </select>
    </label>
</div>
{%- endmacro %}
{% block body %}
<div>
    <a href="{{url_for('class_page', class_id=class_['id'])}}">Return to your class page</a>
</div>
<form method="POST">
    <fieldset>
        <legend>
            Upload to {{class_id}}
        </legend>
    {%- filter indent(width=8) %}
{{text('link')}}
{{text('name')}}
{{text('description')}}
{{select('type', {'container': 'Empty Container', 'embed': 'Embedded Document', 'image': 'Embedded Image', 'link': 'Raw Link'})}}
{{select('container', containers, required=False)}}
    {%- endfilter %}
    </fieldset>
    <input type="submit" value="UPLOAD" id="form_save">
</form>
{% endblock %}